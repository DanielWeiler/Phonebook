{"version":3,"sources":["components/Filter.js","components/NewPersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","showAll","handleFilterChange","value","onChange","NewPersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleRemovePerson","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","messageStyle","className","App","useState","persons","setPersons","setNewName","setNewNumber","setShowAll","setMessage","setMessageStyle","useEffect","personService","initialPersons","catch","error","console","log","personsToShow","filter","toLowerCase","includes","find","p","window","confirm","setTimeout","event","target","preventDefault","personObject","existingPerson","updatedPerson","returnedPerson","map","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5170970c.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = ({ showAll, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={showAll} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from \"react\"\r\n\r\nconst NewPersonForm = ({\r\n  addName,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default NewPersonForm\r\n","import React from \"react\"\r\n\r\nconst Person = ({ person, handleRemovePerson }) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number}{\" \"}\r\n      <button\r\n        onClick={() => {\r\n          handleRemovePerson(person.id)\r\n        }}\r\n      >\r\n        delete\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n","const Notification = ({ message, messageStyle }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return <div className={messageStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import React, { useEffect, useState } from \"react\"\nimport Filter from \"./components/Filter\"\nimport NewPersonForm from \"./components/NewPersonForm\"\nimport Person from \"./components/Person\"\nimport personService from \"./services/persons\"\nimport Notification from \"./components/Notification\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [showAll, setShowAll] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [messageStyle, setMessageStyle] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons)\n      })\n      .catch((error) => {\n        console.log(\"fetchdata\", error)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    const existingPerson = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    )\n\n    if (existingPerson) {\n      if (\n        window.confirm(\n          `${existingPerson.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const id = existingPerson.id\n        const updatedPerson = { ...existingPerson, number: newNumber }\n        personService\n          .update(id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(persons.map((p) => (p.id !== id ? p : returnedPerson)))\n            setNewName(\"\")\n            setNewNumber(\"\")\n          })\n          .catch((error) => {\n            console.log(\"Update failed\", error)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setMessageStyle(\"success\")\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          console.log(\"addName\", error)\n        })\n    }\n  }\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(showAll.toLowerCase())\n  )\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setShowAll(event.target.value)\n  }\n\n  const handleRemovePerson = (id) => {\n    const person = persons.find((p) => p.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n        .catch((error) => {\n          console.log(\"remove person\", error)\n          setMessageStyle(\"error\")\n          setMessage(\n            `Information of ${person.name} has already been removed from the server`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(persons.filter((p) => p.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageStyle={messageStyle} />\n      <Filter showAll={showAll} handleFilterChange={handleFilterChange} />\n\n      <h2>add a new</h2>\n      <NewPersonForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <ul>\n        {personsToShow.map((person) => (\n          <Person\n            key={person.name}\n            person={person}\n            handleRemovePerson={handleRemovePerson}\n          />\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}